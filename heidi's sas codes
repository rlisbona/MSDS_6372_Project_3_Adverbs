data  books; 
input authorID adv pct;
datalines;
1	1	47.78
1	2	30.53
1	3	21.69
1	4	0.152233333
1	5	0.064533333
1	6	0.0934
1	7	0.072566667
1	8	0.049133333
1	9	0.1085
1	10	0.040366667
1	11	0.013533333
1	12	0.242733333
1	13	0.0276
1	14	0.071466667
1	15	0.111066667
1	16	0.034733333
1	17	0.0227
1	18	0.154233333
1	19	0.034933333
1	20	0.089933333
1	21	0.0998
1	22	0.082366667
1	23	0.0623
1	24	0.061166667
1	25	0.353533333
1	26	0.013733333
1	27	0.048366667
2	1	46.64666667
2	2	29.49666667
2	3	23.86333333
2	4	0.0751
2	5	0.078466667
2	6	0.349033333
2	7	0.046966667
2	8	0.127166667
2	9	0.074766667
2	10	0.413133333
2	11	0.020866667
2	12	0.1566
2	13	0.2582
2	14	0.077233333
2	15	0.1169
2	16	0.066333333
2	17	0.050266667
2	18	0.0886
2	19	0.058966667
2	20	0.0387
2	21	0.082366667
2	22	0.113366667
2	23	0.0706
2	24	0.1078
2	25	0.344433333
2	26	0.1471
2	27	0.025333333
3	1	45.844
3	2	28.308
3	3	25.848
3	4	0.17248
3	5	0.13952
3	6	0.16076
3	7	0.15482
3	8	0.13582
3	9	0.1679
3	10	0.0566
3	11	0.0539
3	12	0.12996
3	13	0.0568
3	14	0.15502
3	15	0.1411
3	16	0.04192
3	17	0.05662
3	18	0.06722
3	19	0.03904
3	20	0.19136
3	21	0.03964
3	22	0.13192
3	23	0.11978
3	24	0.13804
3	25	0.29068
3	26	0.04614
3	27	0.07402
4	1	45.69666667
4	2	34.06666667
4	3	20.24
4	4	0.322066667
4	5	0.0959
4	6	0.161566667
4	7	0.090766667
4	8	0.2416
4	9	0.140766667
4	10	0.040233333
4	11	0.048233333
4	12	0.2376
4	13	0.057466667
4	14	0.103733333
4	15	0.129766667
4	16	0.072766667
4	17	0.0329
4	18	0.048466667
4	19	0.0541
4	20	0.1921
4	21	0.0946
4	22	0.1432
4	23	0.0865
4	24	0.116733333
4	25	0.311466667
4	26	0.031733333
4	27	0.061133333
5	1	46.6
5	2	31.88
5	3	21.52
5	4	0.2601
5	5	0.069233333
5	6	0.1053
5	7	0.074866667
5	8	0.118166667
5	9	0.1625
5	10	0.051766667
5	11	0.019366667
5	12	0.430333333
5	13	0.058466667
5	14	0.0434
5	15	0.170066667
5	16	0.121766667
5	17	0.043933333
5	18	0.143666667
5	19	0.0944
5	20	0.2049
5	21	0.058666667
5	22	0.1217
5	23	0.204
5	24	0.093066667
5	25	0.4919
5	26	0.009433333
5	27	0.098033333
6	1	45.18666667
6	2	30.35666667
6	3	24.45
6	4	0.5603
6	5	0.2222
6	6	0.4153
6	7	0.2921
6	8	0.4601
6	9	0.5154
6	10	0.3862
6	11	0.0405
6	12	0.4362
6	13	0.2455
6	14	0.2653
6	15	0.325
6	16	0.3388
6	17	0.1327
6	18	0.3904
6	19	0.2345
6	20	0.3743
6	21	0.1256
6	22	0.3066
6	23	0.1864
6	24	0.5814
6	25	1.1821
6	26	0.0635
6	27	0.2134
7	1	47.29666667
7	2	30.13
7	3	22.57333333
7	4	0.185966667
7	5	0.066766667
7	6	0.135033333
7	7	0.116866667
7	8	0.079033333
7	9	0.172566667
7	10	0.089666667
7	11	0.029766667
7	12	0.166133333
7	13	0.055333333
7	14	0.0522
7	15	0.118366667
7	16	0.082533333
7	17	0.0441
7	18	0.111466667
7	19	0.042233333
7	20	0.118233333
7	21	0.0603
7	22	0.104533333
7	23	0.0461
7	24	0.061733333
7	25	0.485033333
7	26	0.020333333
7	27	0.078033333
8	1	45.74333333
8	2	26.60333333
8	3	27.65333333
8	4	0.065166667
8	5	0.090966667
8	6	0.1836
8	7	0.079066667
8	8	0.038533333
8	9	0.0558
8	10	0.218666667
8	11	0.018266667
8	12	0.049266667
8	13	0.085333333
8	14	0.064366667
8	15	0.0687
8	16	0.0965
8	17	0.012366667
8	18	0.0863
8	19	0.0514
8	20	0.1189
8	21	0.061066667
8	22	0.0845
8	23	0.061433333
8	24	0.149333333
8	25	0.279533333
8	26	0.0362
8	27	0.064766667
9	1	43.175
9	2	28.34
9	3	28.4825
9	4	0.2427
9	5	0.08155
9	6	0.16695
9	7	0.06235
9	8	0.06595
9	9	0.12765
9	10	0.16865
9	11	0.027525
9	12	0.0854
9	13	0.1142
9	14	0.061875
9	15	0.08855
9	16	0.0895
9	17	0.051475
9	18	0.0695
9	19	0.04775
9	20	0.089375
9	21	0.0331
9	22	0.08615
9	23	0.029125
9	24	0.11745
9	25	0.32995
9	26	0.026475
9	27	0.0867
10	1	44.34666667
10	2	27.04
10	3	28.61333333
10	4	0.204833333
10	5	0.0758
10	6	0.1127
10	7	0.055466667
10	8	0.040966667
10	9	0.0892
10	10	0.127633333
10	11	0.018633333
10	12	0.2146
10	13	0.112566667
10	14	0.0931
10	15	0.0583
10	16	0.085866667
10	17	0.029333333
10	18	0.117366667
10	19	0.095066667
10	20	0.070533333
10	21	0.015733333
10	22	0.044933333
10	23	0.056233333
10	24	0.178833333
10	25	0.2509
10	26	0.037233333
10	27	0.136666667
11	1	43.23333333
11	2	25.64333333
11	3	31.12333333
11	4	0.0797
11	5	0.113966667
11	6	0.2237
11	7	0.049533333
11	8	0.0431
11	9	0.109966667
11	10	0.2993
11	11	0.0143
11	12	0.101666667
11	13	0.231633333
11	14	0.024133333
11	15	0.0723
11	16	0.052766667
11	17	0.031933333
11	18	0.1076
11	19	0.126666667
11	20	0.072433333
11	21	0.068266667
11	22	0.140266667
11	23	0.028666667
11	24	0.135333333
11	25	0.213466667
11	26	0.071466667
11	27	0.0729
12	1	45.80333333
12	2	23.10333333
12	3	31.09333333
12	4	0.0149
12	5	0.1923
12	6	0.3119
12	7	0.107166667
12	8	0.039866667
12	9	0.041466667
12	10	0.207266667
12	11	0.052733333
12	12	0.0219
12	13	0.0816
12	14	0.033366667
12	15	0.034733333
12	16	0.05
12	17	0.0154
12	18	0.024933333
12	19	0.148466667
12	20	0.084966667
12	21	0.410366667
12	22	0.096666667
12	23	0.1026
12	24	0.032533333
12	25	0.212
12	26	0.074
12	27	0.062933333
13	1	49.37
13	2	28.87
13	3	21.75666667
13	4	0.033
13	5	0.023633333
13	6	0.352933333
13	7	0.062466667
13	8	0.090133333
13	9	0.076233333
13	10	0.151433333
13	11	0.0147
13	12	0.275866667
13	13	0.098166667
13	14	0.023
13	15	0.0953
13	16	0.048533333
13	17	0.032766667
13	18	0.022133333
13	19	0.048733333
13	20	0.0893
13	21	0.095766667
13	22	0.145266667
13	23	0.111566667
13	24	0.089633333
13	25	0.439066667
13	26	0.0833
13	27	0.065433333
14	1	47.65333333
14	2	28.95333333
14	3	23.39333333
14	4	0.1802
14	5	0.084733333
14	6	0.150533333
14	7	0.0734
14	8	0.109233333
14	9	0.139366667
14	10	0.1693
14	11	0.061933333
14	12	0.132866667
14	13	0.045566667
14	14	0.0688
14	15	0.109
14	16	0.071066667
14	17	0.0406
14	18	0.131666667
14	19	0.065166667
14	20	0.112933333
14	21	0.0395
14	22	0.0963
14	23	0.0351
14	24	0.122066667
14	25	0.388533333
14	26	0.028666667
14	27	0.120366667
15	1	49.20333333
15	2	30.69666667
15	3	20.09666667
15	4	0.1739
15	5	0.060633333
15	6	0.1408
15	7	0.0962
15	8	0.1572
15	9	0.141466667
15	10	0.1231
15	11	0.012133333
15	12	0.259166667
15	13	0.0216
15	14	0.023733333
15	15	0.129433333
15	16	0.086266667
15	17	0.027433333
15	18	0.095633333
15	19	0.066966667
15	20	0.118433333
15	21	0.147166667
15	22	0.0838
15	23	0.059
15	24	0.083766667
15	25	0.3891
15	26	0.018733333
15	27	0.091566667
16	1	45.14333333
16	2	28.94
16	3	25.91
16	4	0.259033333
16	5	0.0504
16	6	0.094566667
16	7	0.0699
16	8	0.2054
16	9	0.131833333
16	10	0.160633333
16	11	0.019366667
16	12	0.249733333
16	13	0.069266667
16	14	0.049
16	15	0.142766667
16	16	0.1678
16	17	0.029333333
16	18	0.080233333
16	19	0.100866667
16	20	0.0481
16	21	0.0479
16	22	0.1346
16	23	0.020133333
16	24	0.092066667
16	25	0.4106
16	26	0.025933333
16	27	0.1515
; 

proc print data=books (obs=20); run; 

proc freq data=books;
   tables authorID*adv / cmh trend; 
   weight pct;
   title 'adv use';
run;

proc logistic;
model adv = authorID /link=glogit; *glogit = generalized logit which is our last category;
freq pct;
run;
*Logits modeled use adv=1 as the reference category. and predict authorID 1,2,3; 

proc catmod data = books;
direct adv pct;
response logits;
model authorID = adv pct;
run;

